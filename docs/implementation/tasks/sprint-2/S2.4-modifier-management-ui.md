# S2.4: Modifier Management UI

**Sprint**: 2
**Story Points**: 8
**Assignee**: Developer B
**Priority**: P1 - High
**Dependencies**: S2.3 (Modifier CRUD API)

---

## User Story

As a **restaurant manager**, I want **a UI to manage modifiers** so that **I can configure menu customization options without technical knowledge**.

---

## Description

Build a comprehensive admin interface for creating and managing modifier sections, groups, and options. Support drag-and-drop reordering, conditional rules configuration, and real-time preview.

---

## Acceptance Criteria

- [ ] List all modifier sections with search/filter
- [ ] Create new modifier section form
- [ ] Edit modifier section (inline or modal)
- [ ] Create modifier groups within sections
- [ ] Create modifier options within groups
- [ ] Drag-and-drop reordering
- [ ] Configure min/max selection rules
- [ ] Set price adjustments (fixed/percentage)
- [ ] Configure conditional availability
- [ ] Real-time validation feedback
- [ ] Preview modifier tree structure
- [ ] Responsive design

---

## Definition of Done

- [x] ModifierManagement component implemented
- [x] ModifierSectionForm component
- [x] ModifierGroupForm component
- [x] ModifierOptionForm component
- [x] Drag-and-drop functionality
- [x] API integration complete
- [x] Form validation
- [x] Component tests
- [x] Manual testing completed
- [x] Code reviewed and approved

---

## Technical Details

```typescript
// components/admin/ModifierManagement.tsx

import { useState } from 'react';
import { useQuery, useMutation } from '@tanstack/react-query';
import { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';

export function ModifierManagement() {
  const { data: sections, isLoading } = useQuery({
    queryKey: ['modifier-sections'],
    queryFn: () => itemClient.listModifierSections({}),
  });

  const createSection = useMutation({
    mutationFn: (data) => itemClient.createModifierSection(data),
    onSuccess: () => queryClient.invalidateQueries(['modifier-sections']),
  });

  return (
    <div className="modifier-management">
      <header>
        <h1>Modifier Management</h1>
        <button onClick={() => setShowCreateForm(true)}>
          Add Modifier Section
        </button>
      </header>

      <DragDropContext onDragEnd={handleDragEnd}>
        <Droppable droppableId="sections">
          {(provided) => (
            <div {...provided.droppableProps} ref={provided.innerRef}>
              {sections?.map((section, index) => (
                <Draggable key={section.id} draggableId={section.id} index={index}>
                  {(provided) => (
                    <ModifierSectionCard
                      section={section}
                      ref={provided.innerRef}
                      {...provided.draggableProps}
                      {...provided.dragHandleProps}
                    />
                  )}
                </Draggable>
              ))}
              {provided.placeholder}
            </div>
          )}
        </Droppable>
      </DragDropContext>
    </div>
  );
}
```

---

## Time Estimate

**Estimated**: 5 hours (components) + 2 hours (testing) + 1 hour (styling)
**Actual**: ___ hours

---

## Notes

- Use react-beautiful-dnd for drag-and-drop
- Inline editing for quick updates
- Modal forms for complex configurations
- Real-time validation prevents errors

---

## Related Stories

- **S2.3**: Modifier CRUD API (prerequisite)
- **S2.10**: POS Terminal - Modifier Selection UI
