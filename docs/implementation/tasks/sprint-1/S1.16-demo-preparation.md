# S1.16: Demo Preparation

**Sprint**: 1
**Story Points**: 3
**Assignee**: Both
**Priority**: P1 - High
**Dependencies**: All Sprint 1 stories

---

## User Story

As a **product owner**, I want a **complete end-to-end demo** so that **I can showcase the core POS functionality to stakeholders on Friday**.

---

## Description

Prepare a polished demo showcasing Sprint 1 deliverables: complete order flow from item selection → kitchen display → cash payment → receipt. This includes creating realistic seed data, preparing a demo script, fixing critical bugs, polishing the UI, and ensuring everything works smoothly for the Friday demo.

---

## Acceptance Criteria

### Demo Flow Working
- [ ] Can create order with multiple items
- [ ] Kitchen display updates in real-time
- [ ] Can process cash payment with change calculation
- [ ] Receipt printed to console (mock)
- [ ] Tax calculated correctly by location
- [ ] No critical bugs or crashes

### Data Preparation
- [ ] Seed data script created
- [ ] 20+ realistic menu items loaded
- [ ] Categories created (Appetizers, Entrees, Beverages, Desserts)
- [ ] Location with 8.75% tax rate
- [ ] Test user accounts (cashier, kitchen)
- [ ] Test device registrations

### Polish
- [ ] UI looks professional
- [ ] Loading states work correctly
- [ ] Error messages are clear
- [ ] Responsive design works on laptop
- [ ] No console errors
- [ ] Logo and branding added (optional)

### Demo Script
- [ ] Step-by-step demo script written
- [ ] Backup plan for failures documented
- [ ] Demo timing practiced (< 10 minutes)
- [ ] Screenshots/recording prepared

---

## Definition of Done

- [x] Seed data script completed
- [x] End-to-end demo flow tested
- [x] Critical bugs fixed
- [x] UI polished
- [x] Demo script written
- [x] Practice run completed successfully (2x)
- [x] Backup plan prepared
- [x] Team confident in demo
- [x] Recording/screenshots captured

---

## Technical Details

### Seed Data Script

```go
// scripts/seed_data.go

package main

import (
    "context"
    "log"

    "github.com/modernpos/pos/services/platform/internal/domain"
    "github.com/modernpos/pos/services/item-management/internal/domain"
)

func main() {
    ctx := context.Background()

    // 1. Create location
    location := &platformv1.Location{
        Name:         "Downtown Chinese Restaurant",
        Address:      "123 Main St",
        City:         "New York",
        StateProvince: "NY",
        PostalCode:   "10001",
        CountryCode:  "US",
        CurrencyCode: "USD",
        Timezone:     "America/New_York",
        TaxRate:      &commonv1.Percentage{BasisPoints: 875}, // 8.75%
    }

    // 2. Create users
    cashier := &platformv1.User{
        Username: "cashier1",
        Email:    "cashier@restaurant.com",
        Name:     "John Cashier",
        Password: "password123",
        Role:     platformv1.UserRole_USER_ROLE_CASHIER,
        LocationId: location.Id,
    }

    kitchen := &platformv1.User{
        Username: "kitchen1",
        Email:    "kitchen@restaurant.com",
        Name:     "Mary Kitchen",
        Password: "password123",
        Role:     platformv1.UserRole_USER_ROLE_KITCHEN,
        LocationId: location.Id,
    }

    // 3. Create categories
    categories := []*itemv1.Category{
        {Name: localized("Appetizers"), DisplayOrder: 1},
        {Name: localized("Entrees"), DisplayOrder: 2},
        {Name: localized("Beverages"), DisplayOrder: 3},
        {Name: localized("Desserts"), DisplayOrder: 4},
    }

    // 4. Create menu items
    items := []*itemv1.Item{
        // Appetizers
        {SKU: "APP-001", Name: localized("Spring Rolls"), Price: money(595), CategoryId: categories[0].Id},
        {SKU: "APP-002", Name: localized("Egg Rolls"), Price: money(495), CategoryId: categories[0].Id},
        {SKU: "APP-003", Name: localized("Dumplings"), Price: money(795), CategoryId: categories[0].Id},

        // Entrees
        {SKU: "ENT-001", Name: localized("Kung Pao Chicken"), Price: money(1295), CategoryId: categories[1].Id},
        {SKU: "ENT-002", Name: localized("Orange Chicken"), Price: money(1195), CategoryId: categories[1].Id},
        {SKU: "ENT-003", Name: localized("Beef & Broccoli"), Price: money(1395), CategoryId: categories[1].Id},
        {SKU: "ENT-004", Name: localized("Sweet & Sour Pork"), Price: money(1095), CategoryId: categories[1].Id},
        {SKU: "ENT-005", Name: localized("General Tso's Chicken"), Price: money(1295), CategoryId: categories[1].Id},
        {SKU: "ENT-006", Name: localized("Mongolian Beef"), Price: money(1495), CategoryId: categories[1].Id},

        // Beverages
        {SKU: "BEV-001", Name: localized("Soft Drink"), Price: money(195), CategoryId: categories[2].Id},
        {SKU: "BEV-002", Name: localized("Iced Tea"), Price: money(245), CategoryId: categories[2].Id},
        {SKU: "BEV-003", Name: localized("Hot Tea"), Price: money(195), CategoryId: categories[2].Id},
        {SKU: "BEV-004", Name: localized("Bubble Tea"), Price: money(495), CategoryId: categories[2].Id},

        // Desserts
        {SKU: "DES-001", Name: localized("Fortune Cookie"), Price: money(95), CategoryId: categories[3].Id},
        {SKU: "DES-002", Name: localized("Fried Ice Cream"), Price: money(595), CategoryId: categories[3].Id},
        {SKU: "DES-003", Name: localized("Mango Pudding"), Price: money(395), CategoryId: categories[3].Id},
    }

    log.Println("Seed data created successfully!")
}

func localized(text string) *commonv1.LocalizedString {
    return &commonv1.LocalizedString{
        Translations: map[string]string{"en-US": text},
    }
}

func money(cents int64) *commonv1.Money {
    return &commonv1.Money{Amount: cents, CurrencyCode: "USD"}
}
```

### Demo Script

```markdown
# Sprint 1 Demo Script

## Setup (2 minutes before demo)
1. Start all services: `docker-compose up -d`
2. Run seed data: `go run scripts/seed_data.go`
3. Open POS terminal: http://localhost:3000/pos
4. Open kitchen display: http://localhost:3000/kitchen

## Demo Flow (8 minutes)

### Part 1: Order Creation (3 min)
1. **Show item list**: "This is our POS terminal showing our menu items organized by category."
2. **Filter by category**: Click "Entrees" tab
3. **Add items to order**:
   - Click "Kung Pao Chicken" ($12.95)
   - Click "Orange Chicken" ($11.95)
   - Click "Fried Rice" ($3.95)
4. **Show order summary**: Point out subtotal, tax (8.75%), and total

### Part 2: Kitchen Display (2 min)
5. **Switch to kitchen display**: "When we complete this order, it immediately appears on the kitchen display."
6. **Complete the order**: Process payment (covered in Part 3)
7. **Show real-time update**: Kitchen display receives order instantly via WebSocket

### Part 3: Cash Payment (3 min)
8. **Enter payment**: Amount tendered $50.00
9. **Show change calculation**: System calculates $21.05 change automatically
10. **Complete payment**: Click "Complete Payment"
11. **Show success**: Order marked as completed
12. **Show receipt**: Console log shows receipt (mock printer)
13. **Verify kitchen**: Order appears on kitchen display with timestamp

## Key Features to Highlight
- ✅ Real-time kitchen display (WebSocket)
- ✅ Automatic tax calculation (location-based)
- ✅ Change calculation (cash payment)
- ✅ Event-driven architecture (Redis pub/sub)
- ✅ Type-safe APIs (ConnectRPC)

## Backup Plan
- If WebSocket fails: Show manual refresh working
- If API fails: Have screenshots ready
- If demo data missing: Have backup seed script
- If UI breaks: Have video recording

## Questions to Expect
Q: "Can we add modifiers?"
A: "Sprint 2! We'll add size options, extra toppings, etc."

Q: "Can we process card payments?"
A: "Sprint 2! Integrating with existing payment service."

Q: "What about offline mode?"
A: "Sprint 3! Cash-only when network is down."

Q: "Can we print real receipts?"
A: "Sprint 3! Adding ESC/POS printer adapter."
```

---

## Implementation Steps

1. Create seed data script in `scripts/`
2. Test seed data creation
3. Do complete end-to-end test of demo flow
4. Fix any critical bugs found
5. Polish UI (spacing, colors, fonts)
6. Remove debug console.logs
7. Add loading indicators where missing
8. Write demo script
9. Practice demo with timer (< 10 minutes)
10. Record backup video
11. Take screenshots
12. Do final practice run
13. Prepare contingency plans

---

## Testing

### End-to-End Demo Test

```bash
# 1. Start services
docker-compose up -d

# 2. Verify all services healthy
docker-compose ps

# 3. Run seed data
go run scripts/seed_data.go

# 4. Open terminals
open http://localhost:3000/pos
open http://localhost:3000/kitchen

# 5. Complete full order flow
- Select items
- Process payment
- Verify kitchen display
- Check receipt in logs

# 6. Verify no errors
docker-compose logs | grep ERROR
```

---

## Time Estimate

**Estimated**: 2 hours (seed data) + 1 hour (bug fixes) + 2 hours (practice)
**Actual**: ___ hours

---

## Notes

- Demo on Friday at 5:00 PM (end of sprint)
- Stakeholders: Product owner, CTO, potential investors
- Keep demo under 10 minutes (attention span)
- Focus on "wow" factor (real-time updates)
- Have contingency for failures
- Record video as backup
- Prepare for common questions
- Emphasize technical sophistication (WebSocket, events, type safety)
- Show clean code structure (ports/adapters)

---

## Success Metrics

- [ ] Demo completes without crashes
- [ ] Real-time update impresses stakeholders
- [ ] Questions answered confidently
- [ ] Sprint 2 approved to proceed
- [ ] Positive feedback received
- [ ] Technical decisions validated

---

## Related Stories

- ALL Sprint 1 stories (this is the culmination)
